version: "1"

# Development mode
dev_mode: true

# Graph configuration for local development
graph:
  # Use a local token for development
  token: "local-dev"

# Router configuration
listen_addr: "0.0.0.0:3000"
controlplane_url: ""
playground_enabled: true
introspection: true

# Logging
log_level: debug

# CORS configuration
cors:
  enabled: true
  allow_origins:
    - "http://localhost:3001"
    - "http://localhost:3000"
  allow_methods:
    - GET
    - POST
    - OPTIONS
  allow_headers:
    - "*"
  allow_credentials: true
  max_age: 3600s

# Headers configuration
headers:
  all:
    request:
      - op: propagate
        named: Authorization
      - op: propagate
        named: X-Request-ID
      - op: propagate  
        named: X-Correlation-ID

# Subgraph configuration
subgraphs:
  claude-service:
    routing_url: "http://localhost:3002/graphql"
    subscription_url: "ws://localhost:3002/graphql"
    subscription_protocol: "graphql-ws"
  git-service:
    routing_url: "http://localhost:3004/graphql"
    subscription_url: "ws://localhost:3004/graphql"
    subscription_protocol: "graphql-ws"
  github-adapter:
    routing_url: "http://localhost:3005/graphql"

# Engine configuration
engine:
  enable_request_tracing: true
  enable_response_tracing: true
  graphql_metrics: true
  
# Telemetry
telemetry:
  service_name: gothic-gateway
  
# Health check
health_check_path: "/health"
liveness_check_path: "/health"
readiness_check_path: "/ready"